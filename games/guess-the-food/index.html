<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guess the Food Game</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #fdf6e3;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
    }
    h1 { color: #2c3e50; }
    .riddle-box {
        background: #ffecb3;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
        width: 80%;
        text-align: center;
        font-size: 1.2em;
    }
    .options { display: flex; flex-direction: column; gap: 10px; }
    .option-button {
        padding: 10px; font-size: 1em; border-radius: 5px; border: 1px solid #ccc;
        cursor: pointer; background-color: #4caf50; color: white;
    }
    .backpack-container {
        position: relative; margin-top: 20px; width: 600px; height: 600px;
    }
    .backpack {
        width: 100%; height: 100%;
        background: url('https://pngicon.ru/file/uploads/shkolniy_rukzak.png') no-repeat center/contain;
        position: relative;
    }
    .backpack-items {
        position: absolute; top: 50px; left: 50%; transform: translateX(-50%);
        display: grid; grid-template-columns: repeat(4, auto);
        grid-template-rows: repeat(3, auto); gap: 5px;
        justify-items: center;
    }
    .labubu {
        width: 160px; height: auto;
    }
    .center-labubu {
        position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
        width: 320px; height: auto; z-index: 200; transition: all 0.8s ease-in-out;
    }
    .wrong-answer-overlay {
        display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.8); justify-content: center; align-items: center;
        z-index: 300;
    }
    .wrong-answer-overlay img { width: 300px; height: auto; }
    .win-overlay {
        display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.8); justify-content: center; align-items: center;
        z-index: 400;
    }
    .win-overlay img { width: 500px; height: auto; }
</style>
</head>
<body>

<h1>üçé Guess the Food Game üçå</h1>
<div class="riddle-box" id="riddle">Loading riddle...</div>
<div class="options" id="options"></div>
<div class="backpack-container">
    <div class="backpack">
        <div class="backpack-items" id="backpack-items"></div>
    </div>
</div>
<div class="wrong-answer-overlay" id="wrongOverlay"><img src="https://media.tenor.com/GvToDWtSiNoAAAAj/stitch-chorando.gif" alt="wrong"></div>
<div class="win-overlay" id="winOverlay"><img src="https://i.pinimg.com/originals/29/66/1a/29661a4b70d27b0db06af191541d3e80.gif" alt="win"></div>

<script>
const riddles = [
    {q: "We make this drink from oranges.", a: "orange juice"},
    {q: "It‚Äôs a type of fish.", a: "tuna"},
    {q: "We slice it and put it in sandwiches.", a: "ham"},
    {q: "We boil or fry them. Kids love them with ketchup.", a: "potatoes"},
    {q: "It‚Äôs yellow, long and monkeys like it.", a: "banana"},
    {q: "It‚Äôs soft, white, and made from milk.", a: "cheese"},
    {q: "It grows on trees, red or green.", a: "apples"},
    {q: "It‚Äôs round and red, used in salads.", a: "tomatoes"},
    {q: "You boil it and eat with sauce.", a: "pasta"},
    {q: "Kids eat it with milk in the morning.", a: "cereal"},
    {q: "We fry them and serve in a bag.", a: "chips"},
    {q: "It‚Äôs soft and sweet, we bake it for snacks.", a: "biscuits"}
];
const allOptions = ["apples","biscuits","bread","cereal","cheese","chicken","chips","fish","fruit","ham","meat","orange juice","pancakes","pasta","potatoes","rice","salad","sandwiches","sausages","tomatoes","tuna","vegetables","water","yoghurt","banana"];
let current = 0;
let labubusList = [];

function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}

function loadRiddle(){
    if(current >= riddles.length){
        document.getElementById('riddle').innerText = "üéâ Congratulations! You collected all Labubus!";
        document.getElementById('options').innerHTML = '';
        document.getElementById('winOverlay').style.display = 'flex';
        setTimeout(()=>{
            document.getElementById('winOverlay').style.display = 'none';
            labubusList.forEach(l=>document.getElementById('backpack-items').appendChild(l));
        },3000);
        return;
    }
    const r = riddles[current];
    document.getElementById('riddle').innerText = r.q;
    const opts = [r.a];
    while(opts.length < 4){
        let o = allOptions[Math.floor(Math.random()*allOptions.length)];
        if(!opts.includes(o)) opts.push(o);
    }
    shuffle(opts);
    const cont = document.getElementById('options');
    cont.innerHTML = '';
    opts.forEach(o=>{
        let b = document.createElement('button');
        b.innerText = o;
        b.className = 'option-button';
        b.onclick = ()=>check(o);
        cont.appendChild(b);
    });
}

function check(sel){
    const r = riddles[current];
    if(sel === r.a){
        const cLabubu = document.createElement('img');
        cLabubu.src = 'https://imgpng.ru/d/labubu_PNG35.png';
        cLabubu.className = 'center-labubu';
        document.body.appendChild(cLabubu);
        setTimeout(()=>{
            cLabubu.className = 'labubu';
            cLabubu.style.width = '160px';
            const bp = document.getElementById('backpack-items');
            labubusList.push(cLabubu);
            current++;
            bp.innerHTML = '';
            labubusList.forEach((l,i)=>{
                l.style.width = '160px';
                l.style.height = 'auto';
                bp.appendChild(l);
            });
            loadRiddle();
        },800);
    } else {
        const overlay = document.getElementById('wrongOverlay');
        overlay.style.display = 'flex';
        document.querySelectorAll('.center-labubu').forEach(l=>l.style.display='none');
        setTimeout(()=>{
            overlay.style.display = 'none';
            document.querySelectorAll('.labubu').forEach(l=>l.style.display='');
        },1500);
    }
}

loadRiddle();
</script>

</body>
</html>
