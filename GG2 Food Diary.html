<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Food Diary</title>
<style>
    body {
        font-family: 'Comic Sans MS', cursive, sans-serif;
        text-align: center;
        background: linear-gradient(#fff5e6, #ffe6cc);
        padding: 20px;
        color: #333;
    }
    h1 {
        color: #ff7043;
        font-size: 2.8em;
        text-shadow: 2px 2px 0px #fff;
    }
    .container {
        display: flex;
        justify-content: space-around;
        align-items: flex-start;
        gap: 20px;
        flex-wrap: wrap;
    }
    .character {
        width: 220px;
        height: 260px;
        object-fit: contain;
        cursor: pointer;
        border-radius: 15px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        transition: transform 0.2s;
        background: #fff8f0;
        padding: 6px;
        border: 3px solid #ffb74d;
    }
    .character:hover {
        transform: scale(1.05);
    }
    .word-list {
        background-color: #fff8dc;
        border: 3px dashed #ff9800;
        padding: 10px;
        width: 220px;
        text-align: left;
        border-radius: 15px;
        font-size: 0.95em;
    }
    .task {
        margin-top: 20px;
        background-color: #ffffff;
        padding: 15px;
        border-radius: 15px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    input[type="text"] {
        width: 120px;
        margin: 0 5px;
        border-radius: 6px;
        border: 1px solid #ccc;
        padding: 4px 6px;
        font-size: 16px;
    }
    button {
        margin-top: 10px;
        padding: 8px 15px;
        border: none;
        border-radius: 8px;
        background-color: #ff7043;
        color: white;
        font-size: 14px;
        cursor: pointer;
    }
    button:hover {
        background-color: #e64a19;
    }
    .gif {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }
    .gif img {
        max-width: 80%;
        max-height: 80%;
        border-radius: 15px;
    }
    .names { margin-top: 6px; font-weight: 600; color: #d84315; }
    strong.name {
        font-weight: bold;
        color: #ff5722;
    }
</style>
</head>
<body>

<h1>Food Diary</h1>
<p>Click a picture to listen. Fill in the gaps with words from the box.</p>

<div class="container">
    <div class="word-list">
        <strong>Word bank:</strong>
        <p>apples, biscuits, bread, cereal, cheese, chicken, chips, fish, fruit, ham, meat, orange juice, pancakes, pasta, potatoes, rice, salad, sandwiches, sausages, tomatoes, tuna, vegetables, water, yoghurt</p>
    </div>

    <div>
        <img src="https://png.pngtree.com/png-clipart/20240622/original/pngtree-a-fulllength-portrait-of-a-teenage-boy-casual-fashion-baby-photo-png-image_15398082.png" alt="James" class="character" onclick="playJames()">
        <div class="names">James</div>
    </div>

    <div>
        <img src="https://png.pngtree.com/png-clipart/20250612/original/pngtree-teen-girl-holding-camera-and-smiling-isolated-on-transparent-background-png-image_21181984.png" alt="Alice" class="character" onclick="playAlice()">
        <div class="names">Alice</div>
    </div>
</div>

<div class="task">
    <h2>Fill in the gaps</h2>
    <p>
        <strong class="name">James</strong>: In the morning, I usually have <input type="text" id="j1"> and <input type="text" id="j2">. At lunch, I like <input type="text" id="j3"> with <input type="text" id="j4">, and I often drink <input type="text" id="j5">. In the evening, I sometimes eat <input type="text" id="j6"> and <input type="text" id="j7">. My drink is always <input type="text" id="j8">.
    </p>
    <p>
        <strong class="name">Alice</strong>: In the morning, I have <input type="text" id="a1"> and a <input type="text" id="a2"> sandwich. For lunch, I usually eat <input type="text" id="a3"> and <input type="text" id="a4">. In the evening, I enjoy <input type="text" id="a5"> and <input type="text" id="a6">. I drink <input type="text" id="a7"> and sometimes have <input type="text" id="a8"> for dessert.
    </p>
    <button onclick="checkAnswers()">Check</button>
    <button onclick="showAnswers()">Show answers</button>
</div>

<div class="gif" id="successGif">
    <img src="https://static.wixstatic.com/media/08844d_bff8b4f00ae746938463a78e3c056b95~mv2.gif" alt="Well done!">
</div>

<script>
const preferredFemale = ['Google UK English Female', 'Google English Female'];
const preferredMale = ['Google UK English Male', 'Google English Male'];
const voiceCache = { female: null, male: null };

function chooseVoice(gender) {
  const voices = speechSynthesis.getVoices();
  const prefer = gender === 'female' ? preferredFemale : preferredMale;
  return voices.find(v => prefer.includes(v.name)) || voices.find(v => v.lang.startsWith('en-GB')) || voices.find(v => v.lang.startsWith('en'));
}

function initVoices() {
  const assign = () => {
    voiceCache.female = chooseVoice('female');
    voiceCache.male = chooseVoice('male');
  };
  assign();
  if (!voiceCache.female || !voiceCache.male) {
    speechSynthesis.onvoiceschanged = () => assign();
  }
}
initVoices();

function speak(text, gender) {
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = 'en-GB';
  const v = voiceCache[gender] || chooseVoice(gender);
  if (v) utter.voice = v;
  utter.rate = 1.05;
  utter.pitch = gender === 'female' ? 1.4 : 1.3;
  speechSynthesis.cancel();
  speechSynthesis.speak(utter);
}

function playJames() {
  const text = "In the morning, I usually have cereal and orange juice. At lunch, I like pasta with chicken, and I often drink tea. In the evening, I sometimes eat meat and vegetables. My drink is always water.";
  speak(text, 'male');
}

function playAlice() {
  const text = "In the morning, I have eggs and a ham sandwich. For lunch, I usually eat salad and pasta. In the evening, I enjoy fish and chips. I drink tea and sometimes have biscuits for dessert.";
  speak(text, 'female');
}

function checkAnswers() {
  const answers = { j1: 'cereal', j2: 'orange juice', j3: 'pasta', j4: 'chicken', j5: 'tea', j6: 'meat', j7: 'vegetables', j8: 'water', a1: 'eggs', a2: 'ham', a3: 'salad', a4: 'pasta', a5: 'fish', a6: 'chips', a7: 'tea', a8: 'biscuits' };
  let correct = true;
  for (const id in answers) {
    if (document.getElementById(id).value.trim().toLowerCase() !== answers[id]) {
      correct = false; break;
    }
  }
  if (correct) {
    const gif = document.getElementById('successGif');
    gif.style.display = 'flex';
    setTimeout(() => {
      gif.style.display = 'none';
    }, 3000);
  } else {
    alert('Some answers are incorrect. Try again!');
  }
}

function showAnswers() {
  const answers = { j1: 'cereal', j2: 'orange juice', j3: 'pasta', j4: 'chicken', j5: 'tea', j6: 'meat', j7: 'vegetables', j8: 'water', a1: 'eggs', a2: 'ham', a3: 'salad', a4: 'pasta', a5: 'fish', a6: 'chips', a7: 'tea', a8: 'biscuits' };
  for (const id in answers) {
    document.getElementById(id).value = answers[id];
  }
}
</script>

</body>
</html>
